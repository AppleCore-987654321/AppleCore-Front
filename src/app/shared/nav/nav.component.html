<nav>
  <!-- Encabezado principal (visible en todas las pantallas) -->
  <div class="nav-header">
    <a routerLink="/" class="logo">
      <img src="assets/images/logo.jpg" alt="AppleCore Logo" />
      <h1>AppleCore</h1>
    </a>

    <!-- Botón de menú (solo visible en móvil) -->
    <button class="menu-toggle" (click)="toggleMenu()">
      <i class="pi" [ngClass]="isMenuOpen ? 'pi-times' : 'pi-bars'"></i>
    </button>
  </div>

  <!-- Menú de navegación (desplegable en móvil) -->
  <ul class="nav-links" [class.is-open]="isMenuOpen">
    <!-- 2️⃣ Buscador -->
    <li class="search-section nav-item">
      <div class="search-container">
        <input type="text"
               placeholder="Buscar iPhone, iPad, Mac..."
               class="search-input"
               [(ngModel)]="searchTerm"
               (keyup.enter)="search()">
        <button class="search-btn" (click)="search()">
          <i class="pi pi-search"></i>
        </button>
      </div>
    </li>

    <!-- 3️⃣ Enlaces -->
    <li class="nav-center nav-item">
      <a routerLink="/">Inicio</a>
      <a routerLink="/productos">Productos</a>
      <a routerLink="/ofertas">Ofertas</a>
      @if (userRol === 'CUSTOMER') {
        <a routerLink="/ordenes">Órdenes</a>
      }
    </li>

    <!-- 4️⃣ Login / Logout y Botón de Tema -->
    <li class="auth-section nav-item">
      @if (!username) {
        <a routerLink="/login" class="login-link">Iniciar sesión</a>
      }

      @if (username) {
        <div class="user-section">
          <div class="user-welcome">
            Bienvenido, <span class="username">{{ username }}</span>
          </div>
          <button (click)="logout()" class.logout-btn>Cerrar Sesión</button>
        </div>
      }

      <button class="theme-toggle-btn" (click)="toggleTheme()">
        <i class="pi" [ngClass]="isDarkMode ? 'pi-sun' : 'pi-moon'"></i>
      </button>
    </li>
  </ul>
</nav>
