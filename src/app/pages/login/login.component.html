<main class="login-page">
  <div class="main-content">
    <h2>Iniciar Sesión</h2>

    <section>
      <div class="login-container">
        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
          <!-- Usuario -->
          <div class="form-group has-icon">
            <label for="username">Código de Usuario</label>
            <div class="input-wrapper">
              <i class="bi bi-person input-icon"></i>
              <input
                id="username"
                type="text"
                class="form-control"
                placeholder="Ingresa tu usuario"
                formControlName="username"
              />
            </div>
          </div>

          <!-- Contraseña -->
          <div class="form-group has-icon">
            <label for="password">Contraseña</label>
            <div class="input-wrapper">
              <i class="bi bi-lock input-icon"></i>
              <input
                id="password"
                type="password"
                class="form-control"
                placeholder="Ingresa tu contraseña"
                formControlName="password"
              />
            </div>
          </div>

          <!-- Botón -->
          <button
            type="submit"
            class="btn-login"
            [disabled]="loginForm.invalid || loading"
          >
            {{ loading ? 'Iniciando...' : 'Iniciar Sesión' }}
          </button>

          <!-- Error -->
          @if (errorMessage) {
            <div class="alert-error">
              {{ errorMessage }}
            </div>
          }

          <!-- Link registro -->
          <div class="auth-link">
            <p>
              ¿No tienes una cuenta?
              <a routerLink="/register">Regístrate aquí</a>
            </p>
          </div>
        </form>
      </div>
    </section>
  </div>
</main>
